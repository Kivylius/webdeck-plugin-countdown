{"version":3,"file":"425.js","sources":["./node_modules/react/cjs/react-jsx-runtime.production.min.js","./node_modules/react/jsx-runtime.js","./src/App.js","./src/bootstrap.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import React, { useEffect } from \"react\";\n\nexport const manifest = {\n  version: 1,\n  bespoke: true, // weâ€™ll paint the key ourselves\n};\n\nexport const init = ({ drawKey, getConfig }) => {\n  const render = () => {\n    const { targetDate, label } = getConfig() || {};\n    const today = new Date();\n    const goal = targetDate ? new Date(`${targetDate}T00:00:00`) : null;\n\n    // Fallback if config is empty\n    const diffDays = goal\n      ? Math.max(0, Math.ceil((goal - today) / (1000 * 60 * 60 * 24)))\n      : 0;\n\n    drawKey(({ ctx, canvas }) => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      ctx.fillStyle = \"#fff\";\n      ctx.textAlign = \"center\";\n      ctx.textBaseline = \"middle\";\n\n      // Big number\n      ctx.font = \"28px sans-serif\";\n      ctx.fillText(diffDays, canvas.width / 2, canvas.height / 2 - 6);\n\n      // Small label\n      ctx.font = \"10px sans-serif\";\n      ctx.fillText(label || \"days\", canvas.width / 2, canvas.height / 2 + 16);\n    });\n  };\n\n  // draw immediately and then once a day just after midnight\n  render();\n  const now = new Date();\n  const next = new Date(\n    now.getFullYear(),\n    now.getMonth(),\n    now.getDate() + 1,\n    0,\n    0,\n    5\n  );\n  const timer = setTimeout(() => {\n    render();\n    setInterval(render, 86_400_000); // every 24 h\n  }, next - now);\n\n  // add a listener to re-render on config changes\n  window.addEventListener(\"webdeck-plugin-countdown:update\", render);\n\n  // destructor\n  return () => {\n    clearTimeout(timer);\n    window.removeEventListener(\"webdeck-plugin-countdown:update\", render);\n  };\n};\n\nconst App = ({ config = {}, setConfig }) => {\n  const { targetDate = \"\", label = \"\" } = config;\n\n  // live preview in sidebar while editing\n  useEffect(() => {\n    if (!targetDate) return;\n    const event = new CustomEvent(\"webdeck-plugin-countdown:update\"); // hot-reload helper\n    window.dispatchEvent(event);\n  }, [targetDate, label]);\n\n  return (\n    <div\n      style={{\n        padding: 12,\n        fontFamily: \"sans-serif\",\n        backgroundColor: \"#f0f0f0\",\n        color: \"#000\",\n      }}\n    >\n      <h3>Countdown Plugin</h3>\n\n      <div className=\"setting\">\n        <label htmlFor=\"targetDate\">Target date:&nbsp;</label>\n        <input\n          type=\"date\"\n          id=\"targetDate\"\n          name=\"targetDate\"\n          value={targetDate}\n          onChange={(e) => setConfig({ ...config, targetDate: e.target.value })}\n        />\n      </div>\n\n      <div className=\"setting\" style={{ marginTop: 8 }}>\n        <label htmlFor=\"label\">Label:&nbsp;</label>\n        <input\n          type=\"text\"\n          id=\"label\"\n          name=\"label\"\n          placeholder=\"Days left\"\n          value={label}\n          onChange={(e) => setConfig({ ...config, label: e.target.value })}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import App from \"./App\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// Nothing needs to chagne here.\n// Make all changes in <App> component.\n\nReactDOM.render(\n  <App config={{}} setConfig={() => {}} />,\n  document.getElementById(\"root\")\n);\n"],"names":[],"mappings":"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"}